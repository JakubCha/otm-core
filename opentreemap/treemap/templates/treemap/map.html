{% extends "instance_base.html" %}
{% load i18n %}

{% block page_title %} | {% trans "Map" %}{% endblock %}

{% block head_extra %}
{% endblock head_extra %}

{% block searchscripts %}
<script src="//maps.google.com/maps/api/js?v=3&sensor=false"></script>
{% include "treemap/partials/canopy_filter_control.html" %}
<script>
(function(require) {
    var $ = require("jquery"),
        treeMap = require("treemap/treeMap");

    $(function(){
        treeMap.init(otm.settings);
    })
})(require);
</script>
{% endblock searchscripts %}

{% block content %}
<div class="content map">
  <div id="streetview" style="display: none">
  </div>
  <div id="map" class="map"
       data-has-boundaries="{{ has_boundaries }}"
       data-has-polygons="{{ has_polygons }}">
  </div>
  <div class="sidebar">
    <div id="sidebar-browse-trees">
      {% include "treemap/map-browse-trees.html" %}
    </div>
    <div id="sidebar-add-tree" style="display:none">
      {% include "treemap/map-add-tree.html" %}
    </div>
    <div id="sidebar-add-resource" style="display:none">
      {% include "treemap/partials/map_add_resource.html" %}
    </div>
  </div>
</div>
{% endblock content %}
